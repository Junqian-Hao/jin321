<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jin321.wx.dao.RollingpickDetailMapper" >
    <resultMap id="BaseResultMap" type="rollingpickDetail" >
            <id column="pid" property="pid" jdbcType="INTEGER" javaType="java.lang.Integer" />
            <result column="did" property="did" jdbcType="INTEGER" javaType="java.lang.Integer" />
            <result column="pname" property="pname" jdbcType="VARCHAR" javaType="java.lang.String" />
            <result column="psummary" property="psummary" jdbcType="VARCHAR" javaType="java.lang.String" />
            <result column="ptypea" property="ptypea" jdbcType="INTEGER" javaType="java.lang.Integer" />
            <result column="ptypeb" property="ptypeb" jdbcType="INTEGER" javaType="java.lang.Integer" />
            <result column="ptypec" property="ptypec" jdbcType="INTEGER" javaType="java.lang.Integer" />
            <result column="is_together" property="isTogether" jdbcType="BIT" javaType="java.lang.Boolean" />
            <result column="rpicurl" property="rpicurl" jdbcType="VARCHAR" javaType="java.lang.String" />
            <result column="ppicurl" property="ppicurl" jdbcType="VARCHAR" javaType="java.lang.String" />
    </resultMap>

    <select id="selectAll" resultMap="BaseResultMap">
        SELECT *
        FROM product, rollingpick , productpics
        WHERE product.pid = rollingpick.pid AND product.is_delete=0
              AND rollingpick.is_deleted=0 AND productpics.is_deleted=0
              AND productpics.pid=product.pid AND productpics.is_headpic=1;
    </select>

</mapper>